"use strict";(self.webpackChunkcode_groundlight_ai=self.webpackChunkcode_groundlight_ai||[]).push([[3326],{5806:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"sample-applications/streaming-with-alerts","title":"A Quick Example: Live Stream Monitor","description":"A quick example to help you get started with monitoring live streams using the groundlight/stream container.","source":"@site/docs/sample-applications/3-streaming-with-alerts.md","sourceDirName":"sample-applications","slug":"/sample-applications/streaming-with-alerts","permalink":"/python-sdk/docs/sample-applications/streaming-with-alerts","draft":false,"unlisted":false,"editUrl":"https://github.com/groundlight/python-sdk/tree/main/docs/docs/sample-applications/3-streaming-with-alerts.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"A Serious Example: Retail Analytics","permalink":"/python-sdk/docs/sample-applications/retail-analytics"},"next":{"title":"Industrial and Manufacturing Applications","permalink":"/python-sdk/docs/sample-applications/industrial"}}');var r=n(4848),o=n(8453);const s={},a="A Quick Example: Live Stream Monitor",l={},d=[{value:"Requirements",id:"requirements",level:2},{value:"Installation",id:"installation",level:2},{value:"Creating the Monitor",id:"creating-the-monitor",level:2},{value:"Additional Options",id:"additional-options",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"a-quick-example-live-stream-monitor",children:"A Quick Example: Live Stream Monitor"})}),"\n",(0,r.jsxs)(t.p,{children:["A quick example to help you get started with monitoring live streams using the ",(0,r.jsx)(t.a,{href:"/python-sdk/docs/other-ways-to-use/stream-processor",children:"groundlight/stream"})," container."]}),"\n",(0,r.jsx)(t.p,{children:"In this example, we will set up a monitor on a live stream of a bird feeder and configure Groundlight to alert us when a bird is present at the feeder."}),"\n",(0,r.jsx)(t.h2,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"https://www.docker.com/",children:"Docker"})," installed on your system"]}),"\n",(0,r.jsxs)(t.li,{children:["A YouTube live stream URL or video ID you'd like to monitor. For example, this live stream of a Bird Feeder in Panama hosted by the Cornell Lab of Ornithology: ",(0,r.jsx)(t.a,{href:"https://www.youtube.com/watch?v=WtoxxHADnGk",children:(0,r.jsx)(t.code,{children:"https://www.youtube.com/watch?v=WtoxxHADnGk"})})]}),"\n",(0,r.jsxs)(t.li,{children:["A ",(0,r.jsx)(t.a,{href:"https://dashboard.groundlight.ai",children:"Groundlight account"})]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(t.p,{children:"Pull the Groundlight Stream container:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"docker pull groundlight/stream\n"})}),"\n",(0,r.jsx)(t.h2,{id:"creating-the-monitor",children:"Creating the Monitor"}),"\n",(0,r.jsx)(t.p,{children:"The Groundlight Stream container makes it easy to monitor video streams. Here's how to use it:"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["First, get (or create) your API token from the ",(0,r.jsx)(t.a,{href:"https://dashboard.groundlight.ai/reef/my-account/api-tokens",children:"Groundlight dashboard"}),". Set your Groundlight API token as an environment variable:"]}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'export GROUNDLIGHT_API_TOKEN="<your-api-token>"\n'})}),"\n",(0,r.jsxs)(t.ol,{start:"2",children:["\n",(0,r.jsxs)(t.li,{children:["Create a Binary-mode detector in the ",(0,r.jsx)(t.a,{href:"https://dashboard.groundlight.ai",children:"dashboard"}),'. Set the question to "Is there a bird at the feeder?" and the confidence threshold to 0.75. Note the detector ID for later use.']}),"\n"]}),"\n",(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsx)(t.p,{children:"We use a relatively low confidence threshold in this example because birdwatching is a fun and casual activity. For more critical applications, you may want to set a higher confidence threshold."})}),"\n",(0,r.jsxs)(t.ol,{start:"3",children:["\n",(0,r.jsx)(t.li,{children:"Now, run the Groundlight Stream container to process the live stream. For example, to monitor the Cornell Lab of Ornithology's bird feeder live stream, you could use the following command:"}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'docker run groundlight/stream \\\n    -t "$GROUNDLIGHT_API_TOKEN" \\\n    -d "<YOUR_DETECTOR_ID>" \\\n    -s "https://www.youtube.com/watch?v=WtoxxHADnGk" \\\n    -f 0.25 \\   # 1 frame every 4 seconds\n    -m \\        # enable motion detection to only process frames when movement occurs\n    -v          # enable verbose logging\n'})}),"\n",(0,r.jsxs)(t.p,{children:["You should see Image Queries being submitted to Groundlight as the container processes the live stream. Once you have confirmed that the container is working as expected, you can remove the ",(0,r.jsx)(t.code,{children:"-v"})," flag to reduce the amount of logging, and you can also run the container in the background by adding the ",(0,r.jsx)(t.code,{children:"--detach"})," flag."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'docker run --detach groundlight/stream \\\n    -t "$GROUNDLIGHT_API_TOKEN" \\\n    -d "<YOUR_DETECTOR_ID>" \\\n    -s "https://www.youtube.com/watch?v=WtoxxHADnGk" \\\n    -f 0.25 \\   # 1 frame every 4 seconds\n    -m          # enable motion detection to only process frames when movement occurs\n'})}),"\n",(0,r.jsxs)(t.ol,{start:"4",children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Finally, let's set up an Alert to notify you when a bird visits the feeder. In the Groundlight dashboard:"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["Navigate to ",(0,r.jsx)(t.a,{href:"https://dashboard.groundlight.ai/reef/alerts",children:"the Alerts tab"}),' and click "Create New Alert"']}),"\n",(0,r.jsx)(t.li,{children:'Enter a descriptive name like for the alert, such as "Bird at feeder"'}),"\n",(0,r.jsx)(t.li,{children:"Select your bird detector by name"}),"\n",(0,r.jsxs)(t.li,{children:["Set the alert condition to ",(0,r.jsx)(t.code,{children:"Gives answer 'Yes' For 1 Consecutive answer(s)"})]}),"\n",(0,r.jsx)(t.li,{children:'Choose "Text" as the Alert Type and enter your phone number'}),"\n",(0,r.jsx)(t.li,{children:'Enable "Include image in message" to receive a photo of the bird with each alert (optional)'}),"\n",(0,r.jsx)(t.li,{children:"Enable a 5-minute snooze period to prevent alert fatigue (optional)"}),"\n",(0,r.jsx)(t.li,{children:'Click "Create" to activate your alert'}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Now, sit back and relax! The container will begin submitting frames from the live stream to Groundlight. You will receive alerts when a bird is detected at the feeder."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"additional-options",children:"Additional Options"}),"\n",(0,r.jsxs)(t.p,{children:["You can also use ",(0,r.jsx)(t.code,{children:"groundlight/stream"})," to process local video files, RTSP streams, and more. Here are some examples:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Process local video files by mounting them:"}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'docker run -v /path/to/video:/videos groundlight/stream \\\n    -t "$GROUNDLIGHT_API_TOKEN" \\\n    -d <YOUR_DETECTOR_ID> \\\n    -s /videos/video.mp4\n'})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Connect to RTSP cameras:"}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'docker run groundlight/stream \\\n    -t "$GROUNDLIGHT_API_TOKEN" \\\n    -d <YOUR_DETECTOR_ID> \\\n    -s "rtsp://username:password@camera_ip:554/stream"\n'})}),"\n",(0,r.jsxs)(t.p,{children:["See the complete documentation at ",(0,r.jsx)(t.a,{href:"https://github.com/groundlight/stream",children:"https://github.com/groundlight/stream"})]})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>a});var i=n(6540);const r={},o=i.createContext(r);function s(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);
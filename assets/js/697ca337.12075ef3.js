"use strict";(self.webpackChunkcode_groundlight_ai=self.webpackChunkcode_groundlight_ai||[]).push([[1792],{120:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"guide/handling-errors","title":"Handling Errors","description":"When building applications with the Groundlight SDK, you may encounter errors during API calls. This page covers how to handle such errors and build robust code that can gracefully handle exceptions.","source":"@site/docs/guide/6-handling-errors.md","sourceDirName":"guide","slug":"/guide/handling-errors","permalink":"/python-sdk/docs/guide/handling-errors","draft":false,"unlisted":false,"editUrl":"https://github.com/groundlight/python-sdk/tree/main/docs/docs/guide/6-handling-errors.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Setting Confidence Thresholds","permalink":"/python-sdk/docs/guide/managing-confidence"},"next":{"title":"Using Asynchronous Queries","permalink":"/python-sdk/docs/guide/async-queries"}}');var t=r(4848),o=r(8453);const s={},a="Handling Errors",c={},l=[{value:"Handling <code>ApiException</code>",id:"handling-apiexception",level:2},{value:"Best Practices for Handling Exceptions",id:"best-practices-for-handling-exceptions",level:2},{value:"Catch Specific Exceptions",id:"catch-specific-exceptions",level:3},{value:"Use Custom Exception Classes",id:"use-custom-exception-classes",level:3},{value:"Log Exceptions",id:"log-exceptions",level:3},{value:"Implement Retry Logic",id:"implement-retry-logic",level:3},{value:"Handle Exceptions Gracefully",id:"handle-exceptions-gracefully",level:3},{value:"Test Your Error Handling",id:"test-your-error-handling",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"handling-errors",children:"Handling Errors"})}),"\n",(0,t.jsx)(n.p,{children:"When building applications with the Groundlight SDK, you may encounter errors during API calls. This page covers how to handle such errors and build robust code that can gracefully handle exceptions."}),"\n",(0,t.jsxs)(n.h2,{id:"handling-apiexception",children:["Handling ",(0,t.jsx)(n.code,{children:"ApiException"})]}),"\n",(0,t.jsxs)(n.p,{children:["In the event of an HTTP error during an API call, the Groundlight SDK raises an ",(0,t.jsx)(n.code,{children:"ApiException"}),". This exception provides access to various metadata:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",metastring:"notest",children:'import traceback\nfrom groundlight import ApiException, Groundlight\n\ngl = Groundlight()\ntry:\n    d = gl.get_or_create_detector(\n        name="Road Checker",\n        query="Is the site access road blocked?",\n    )\n    iq = gl.submit_image_query(d, get_image(), wait=60)\nexcept ApiException as e:\n    # Print a traceback for debugging\n    traceback.print_exc()\n\n    # e.reason contains a textual description of the error\n    print(f"Error reason: {e.reason}")\n\n    # e.status contains the HTTP status code\n    print(f"HTTP status code: {e.status}")\n\n    # Common HTTP status codes:\n    # 400 Bad Request: The request was invalid or malformed\n    # 401 Unauthorized: Your GROUNDLIGHT_API_TOKEN is missing or invalid\n    # 403 Forbidden: The request is not allowed due to insufficient permissions\n    # 404 Not Found: The requested resource was not found\n    # 429 Too Many Requests: The rate limit for the API has been exceeded\n    # 500 Internal Server Error: An error occurred on the server side\n'})}),"\n",(0,t.jsx)(n.h2,{id:"best-practices-for-handling-exceptions",children:"Best Practices for Handling Exceptions"}),"\n",(0,t.jsx)(n.p,{children:"When working with the Groundlight SDK, follow these best practices to handle exceptions and build robust code:"}),"\n",(0,t.jsx)(n.h3,{id:"catch-specific-exceptions",children:"Catch Specific Exceptions"}),"\n",(0,t.jsxs)(n.p,{children:["Catch only the specific exceptions that you expect to be raised, such as ",(0,t.jsx)(n.code,{children:"ApiException"}),". Avoid catching broad exceptions like ",(0,t.jsx)(n.code,{children:"Exception"}),", as it may make debugging difficult and obscure other unrelated issues."]}),"\n",(0,t.jsx)(n.h3,{id:"use-custom-exception-classes",children:"Use Custom Exception Classes"}),"\n",(0,t.jsx)(n.p,{children:"Consider creating custom exception classes for your application-specific errors. This can help you differentiate between errors originating from the Groundlight SDK and those from your application."}),"\n",(0,t.jsx)(n.h3,{id:"log-exceptions",children:"Log Exceptions"}),"\n",(0,t.jsx)(n.p,{children:"Log exceptions using appropriate log levels (e.g., error, warning) and include relevant context. This practice aids in effective debugging and monitoring application health."}),"\n",(0,t.jsx)(n.h3,{id:"implement-retry-logic",children:"Implement Retry Logic"}),"\n",(0,t.jsx)(n.p,{children:"Incorporate retry logic with exponential backoff for transient errors, such as network issues or rate limits. This strategy allows your application to recover from temporary problems automatically."}),"\n",(0,t.jsx)(n.h3,{id:"handle-exceptions-gracefully",children:"Handle Exceptions Gracefully"}),"\n",(0,t.jsx)(n.p,{children:"Ensure your application remains functional despite errors by handling exceptions gracefully. This might involve displaying user-friendly error messages or reverting to default behaviors."}),"\n",(0,t.jsx)(n.h3,{id:"test-your-error-handling",children:"Test Your Error Handling"}),"\n",(0,t.jsx)(n.p,{children:"Write tests to ensure that your error handling works as expected. This can help you catch issues early and ensure that your application can handle errors gracefully in production."}),"\n",(0,t.jsx)(n.p,{children:"By following these best practices, you can create robust and resilient applications that can handle server errors and other exceptions when using the Groundlight SDK."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>a});var i=r(6540);const t={},o=i.createContext(t);function s(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);
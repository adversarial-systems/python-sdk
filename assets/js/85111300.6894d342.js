"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[298],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>g});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=r.createContext({}),c=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},p=function(e){var n=c(e.components);return r.createElement(l.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},h=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(t),h=i,g=u["".concat(l,".").concat(h)]||u[h]||d[h]||o;return t?r.createElement(g,a(a({ref:n},p),{},{components:t})):r.createElement(g,a({ref:n},p))}));function g(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,a=new Array(o);a[0]=h;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[u]="string"==typeof e?e:i,a[1]=s;for(var c=2;c<o;c++)a[c]=t[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}h.displayName="MDXCreateElement"},4847:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var r=t(7462),i=(t(7294),t(3905));const o={sidebar_position:4},a="Handling Server Errors",s={unversionedId:"building-applications/handling-errors",id:"building-applications/handling-errors",title:"Handling Server Errors",description:"When building applications with the Groundlight SDK, you may encounter server errors during API calls. This page covers how to handle such errors and build robust code that can gracefully handle exceptions.",source:"@site/docs/building-applications/4-handling-errors.md",sourceDirName:"building-applications",slug:"/building-applications/handling-errors",permalink:"/python-sdk/docs/building-applications/handling-errors",draft:!1,editUrl:"https://github.com/groundlight/python-sdk/tree/main/docs/docs/building-applications/4-handling-errors.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Confidence Levels",permalink:"/python-sdk/docs/building-applications/managing-confidence"},next:{title:"Asynchronous Queries",permalink:"/python-sdk/docs/building-applications/async-queries"}},l={},c=[{value:"Handling ApiException",id:"handling-apiexception",level:2},{value:"Best Practices for Handling Exceptions",id:"best-practices-for-handling-exceptions",level:2},{value:"Catch Specific Exceptions",id:"catch-specific-exceptions",level:3},{value:"Use Custom Exception Classes",id:"use-custom-exception-classes",level:3},{value:"Log Exceptions",id:"log-exceptions",level:3},{value:"Implement Retry Logic",id:"implement-retry-logic",level:3},{value:"Handle Exceptions Gracefully",id:"handle-exceptions-gracefully",level:3},{value:"Test Your Error Handling",id:"test-your-error-handling",level:3}],p={toc:c},u="wrapper";function d(e){let{components:n,...t}=e;return(0,i.kt)(u,(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"handling-server-errors"},"Handling Server Errors"),(0,i.kt)("p",null,"When building applications with the Groundlight SDK, you may encounter server errors during API calls. This page covers how to handle such errors and build robust code that can gracefully handle exceptions."),(0,i.kt)("h2",{id:"handling-apiexception"},"Handling ApiException"),(0,i.kt)("p",null,"If there is an HTTP error during an API call, the SDK will raise an ",(0,i.kt)("inlineCode",{parentName:"p"},"ApiException"),". You can access different metadata from that exception:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python",metastring:"notest",notest:!0},'import traceback\nfrom groundlight import ApiException, Groundlight\n\ngl = Groundlight()\ntry:\n    d = gl.get_or_create_detector(\n        "Road Checker", \n        "Is the site access road blocked?")\n    iq = gl.submit_image_query(d, get_image(), wait=60)\nexcept ApiException as e:\n    # Print a traceback for debugging\n    traceback.print_exc()\n\n    # e.reason contains a textual description of the error\n    print(f"Error reason: {e.reason}")\n\n    # e.status contains the HTTP status code\n    print(f"HTTP status code: {e.status}")\n\n    # Common HTTP status codes:\n    # 400 Bad Request: The request was invalid or malformed\n    # 401 Unauthorized: Your GROUNDLIGHT_API_TOKEN is missing or invalid\n    # 403 Forbidden: The request is not allowed due to insufficient permissions\n    # 404 Not Found: The requested resource was not found\n    # 429 Too Many Requests: The rate limit for the API has been exceeded\n    # 500 Internal Server Error: An error occurred on the server side\n')),(0,i.kt)("h2",{id:"best-practices-for-handling-exceptions"},"Best Practices for Handling Exceptions"),(0,i.kt)("p",null,"When working with the Groundlight SDK, follow these best practices to handle exceptions and build robust code:"),(0,i.kt)("h3",{id:"catch-specific-exceptions"},"Catch Specific Exceptions"),(0,i.kt)("p",null,"Catch only the specific exceptions that you expect to be raised, such as ",(0,i.kt)("inlineCode",{parentName:"p"},"ApiException"),". Avoid catching broad exceptions like ",(0,i.kt)("inlineCode",{parentName:"p"},"Exception"),", as it may make debugging difficult and obscure other unrelated issues."),(0,i.kt)("h3",{id:"use-custom-exception-classes"},"Use Custom Exception Classes"),(0,i.kt)("p",null,"Consider creating custom exception classes for your application-specific errors. This can help you differentiate between errors originating from the Groundlight SDK and those from your application."),(0,i.kt)("h3",{id:"log-exceptions"},"Log Exceptions"),(0,i.kt)("p",null,"Log exceptions with appropriate log levels (e.g., error, warning, etc.) and include relevant context information. This will help you debug issues more effectively and monitor the health of your application."),(0,i.kt)("h3",{id:"implement-retry-logic"},"Implement Retry Logic"),(0,i.kt)("p",null,"When handling exceptions, implement retry logic with exponential backoff for transient errors, such as network issues or rate-limiting. This can help your application recover from temporary issues without manual intervention."),(0,i.kt)("h3",{id:"handle-exceptions-gracefully"},"Handle Exceptions Gracefully"),(0,i.kt)("p",null,"In addition to logging exceptions, handle them gracefully to ensure that your application remains functional despite errors. This might include displaying an error message to users or falling back to a default behavior."),(0,i.kt)("h3",{id:"test-your-error-handling"},"Test Your Error Handling"),(0,i.kt)("p",null,"Write tests to ensure that your error handling works as expected. This can help you catch issues early and ensure that your application can handle errors gracefully in production."),(0,i.kt)("p",null,"By following these best practices, you can create robust and resilient applications that can handle server errors and other exceptions when using the Groundlight SDK."))}d.isMDXComponent=!0}}]);